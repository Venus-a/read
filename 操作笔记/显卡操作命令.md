# 显卡操作命令

## **NVIDIA**

`nvidia-smi` 是 **NVIDIA System Management Interface** 的缩写，是 NVIDIA 显卡驱动的核心监控与管理工具。它提供 GPU 状态、温度、显存使用、进程占用等关键信息，是深度学习、GPU 计算和游戏开发的必备工具。



直接运行命令查看 GPU 状态：

```bash
nvidia-smi
```



```text
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 570.133.07             Driver Version: 570.133.07     CUDA Version: 12.8     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA GeForce RTX 4090        Off |   00000000:03:00.0  On |                  Off |
| 30%   28C    P8             11W /  450W |     811MiB /  24564MiB |     19%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
                                                                                         
+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI              PID   Type   Process name                        GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|    0   N/A  N/A            1409      G   /usr/lib/xorg/Xorg                      262MiB |
|    0   N/A  N/A            1573    C+G   ...c/gnome-remote-desktop-daemon        390MiB |
|    0   N/A  N/A            1628      G   /usr/bin/gnome-shell                     39MiB |
|    0   N/A  N/A            1886      G   ...l/sunlogin/bin/sunloginclient         23MiB |
|    0   N/A  N/A            2120      G   ...l/sunlogin/bin/sunloginclient          6MiB |
|    0   N/A  N/A            2324      G   ...0D8F94236B72A9C559F32F38654D5         10MiB |
+-----------------------------------------------------------------------------------------+
```

参数的详细解析：

### **一、顶部信息行**

```plaintext
NVIDIA-SMI 570.133.07             Driver Version: 570.133.07     CUDA Version: 12.8
```

- **NVIDIA-SMI 570.133.07**：`nvidia-smi` 工具版本
- **Driver Version: 570.133.07**：NVIDIA 显卡驱动版本
- **CUDA Version: 12.8**：驱动支持的 **最高 CUDA 版本**（实际使用的 CUDA 版本由环境变量决定）

### **二、GPU 状态表头**

```plaintext
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
```

| **列**     | **参数**             | **含义**                                                     |
| :--------- | :------------------- | :----------------------------------------------------------- |
| **第一列** | GPU                  | GPU 编号（多卡系统从0开始）                                  |
|            | Name                 | GPU 型号（此处为 GeForce RTX 4090）                          |
|            | Persistence-M        | **持久化模式**：`On`=开启（减少响应延迟），`Off`=关闭（默认） |
| **第二列** | Bus-Id               | PCIe 总线地址（`00000000:03:00.0` = 域:总线:设备.功能）      |
|            | Disp.A               | **显示状态**：`On`=连接显示器，`Off`=无显示输出              |
|            | Volatile Uncorr. ECC | **易失性ECC错误**：`Off`=无错误，`On`=检测到显存错误（需警惕） |
| **第三列** | Fan                  | 风扇转速百分比（30%=当前转速）                               |
|            | Temp                 | GPU 核心温度（28°C=理想温度）                                |
|            | Perf                 | **性能状态**（P0=最高性能，P8=最低功耗模式）                 |
|            | Pwr:Usage/Cap        | **实时功耗/最大功耗**（11W/450W=极低负载）                   |
|            | Memory-Usage         | **显存使用量/总量**（811MiB/24564MiB ≈ 3.3%利用率）          |
|            | GPU-Util             | **GPU计算单元利用率**（19%=轻度负载）                        |
|            | Compute M.           | **计算模式**：`Default`=默认，`Exclusive_Process`=独占进程等 |
|            | MIG M.               | **多实例GPU模式**：`N/A`=未启用，`Enabled`=已分区            |

### **三、GPU 状态数据（您的设备）**

```plaintext
|   0  NVIDIA GeForce RTX 4090        Off |   00000000:03:00.0  On |                  Off |
| 30%   28C    P8             11W /  450W |     811MiB /  24564MiB |     19%      Default |
|                                         |                        |                  N/A |
```

- **关键状态总结**：
  1. GPU 处于 **极低负载状态**（功耗11W，利用率19%）
  2. 温度 **28°C**（非常健康，风扇仅需30%转速）
  3. 显存使用 **811MB**（总24GB，主要用于显示合成）
  4. 连接显示器（`Disp.A=On`）
  5. 未启用高级功能（持久化/MIG模式关闭）

### **四、进程列表**

```
| Processes:                                                                              |
|  GPU   GI   CI              PID   Type   Process name                        GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|    0   N/A  N/A            1409      G   /usr/lib/xorg/Xorg                      262MiB |
|    0   N/A  N/A            1573    C+G   ...c/gnome-remote-desktop-daemon        390MiB |
|    0   N/A  N/A            1628      G   /usr/bin/gnome-shell                     39MiB |
|    0   N/A  N/A            1886      G   ...l/sunlogin/bin/sunloginclient         23MiB |
|    0   N/A  N/A            2120      G   ...l/sunlogin/bin/sunloginclient          6MiB |
|    0   N/A  N/A            2324      G   ...0D8F94236B72A9C559F32F38654D5         10MiB |
```

| **列**           | **含义**                                                     |
| :--------------- | :----------------------------------------------------------- |
| GPU              | 使用的 GPU 编号（0号卡）                                     |
| GI/CI            | **MIG 实例ID**（`N/A`=未使用多实例GPU）                      |
| PID              | 进程 ID                                                      |
| Type             | **进程类型**： `G`=图形渲染（如桌面），`C`=计算任务，`C+G`=混合任务 |
| Process name     | 进程名称（截断时显示`...`）                                  |
| GPU Memory Usage | **进程独占显存**（不包含共享显存）                           |

**进程分析**：

1. **图形进程主导**：
   - `Xorg`（262MB）：Linux 显示服务器核心
   - `gnome-remote-desktop-daemon`（390MB）：GNOME 远程桌面服务
   - `gnome-shell`（39MB）：GNOME 桌面环境
2. **第三方应用**：
   - `sunloginclient`（29MB）：向日葵远程控制软件
3. **无计算任务**：所有进程均为图形类型（`G`或`C+G`），无纯计算负载